# N8N Configuration Template
# Copy this file to .env and customize for your environment
# SECURITY WARNING: Never commit .env files to version control!

# =============================================================================
# HOST & PORT CONFIGURATION
# =============================================================================
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=http
N8N_PATH=/

# =============================================================================
# AUTHENTICATION (CHANGE THESE!)
# =============================================================================
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=CHANGE_THIS_PASSWORD_NOW

# =============================================================================
# SECURITY & ENCRYPTION (CRITICAL!)
# =============================================================================
# Generate a strong encryption key: openssl rand -base64 32
N8N_ENCRYPTION_KEY=CHANGE_THIS_ENCRYPTION_KEY_NOW

# JWT Secret for session management
N8N_JWT_SECRET=CHANGE_THIS_JWT_SECRET_NOW

# Webhook security
N8N_WEBHOOK_TOKEN=CHANGE_THIS_WEBHOOK_TOKEN

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Options: sqlite (development) or postgresdb (production)
DB_TYPE=sqlite
DB_SQLITE_VACUUM_ON_STARTUP=true

# PostgreSQL Configuration (uncomment for production)
# DB_TYPE=postgresdb
# DB_POSTGRESDB_HOST=postgres
# DB_POSTGRESDB_PORT=5432
# DB_POSTGRESDB_DATABASE=n8n
# DB_POSTGRESDB_USER=n8n
# DB_POSTGRESDB_PASSWORD=CHANGE_THIS_DB_PASSWORD
# DB_POSTGRESDB_POOL_SIZE=10

# =============================================================================
# REDIS CONFIGURATION (for queue mode)
# =============================================================================
# Uncomment for production queue mode
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
# REDIS_DB=0

# =============================================================================
# TIMEZONE & LOCALE
# =============================================================================
TZ=Asia/Kolkata
GENERIC_TIMEZONE=Asia/Kolkata
N8N_DEFAULT_LOCALE=en

# =============================================================================
# EXECUTION & QUEUE SETTINGS
# =============================================================================
# Options: regular (development) or queue (production)
EXECUTIONS_MODE=regular
# QUEUE_MODE=redis  # Uncomment for production

# Worker settings (for production)
# N8N_RUNNERS_ENABLED=true
# OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS=true

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
N8N_LOG_LEVEL=info
N8N_LOG_OUTPUT=console

# Diagnostics
N8N_DIAGNOSTICS_ENABLED=false
N8N_VERSION_NOTIFICATIONS_ENABLED=true

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Webhook URL
WEBHOOK_URL=http://0.0.0.0:5678

# Email settings (optional)
# N8N_SMTP_HOST=smtp.gmail.com
# N8N_SMTP_PORT=587
# N8N_SMTP_USER=your-email@gmail.com
# N8N_SMTP_PASS=your-app-password
# N8N_SMTP_SENDER=your-email@gmail.com

# =============================================================================
# DATA PERSISTENCE & BACKUP
# =============================================================================
N8N_DATA_PATH=./data/n8n
REDIS_DATA_PATH=./data/redis
POSTGRES_DATA_PATH=./data/postgres

# Backup configuration
BACKUP_PATH=./backups
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3

# =============================================================================
# ADVANCED SETTINGS (Optional)
# =============================================================================
# Performance
# NODE_OPTIONS=--max-old-space-size=2048
# N8N_MAX_EXECUTION_TIMEOUT=3600
# N8N_PAYLOAD_SIZE_MAX=16

# Security
# N8N_SECURE_COOKIE=false
# N8N_COOKIE_SAME_SITE=lax

# Custom nodes
# N8N_CUSTOM_EXTENSIONS=./custom-nodes